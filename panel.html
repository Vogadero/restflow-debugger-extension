<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RestFlow</title>
    <link rel="stylesheet" href="styles/panel.css">
    <link rel="stylesheet" href="styles/components.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>
<body>
    <div class="container">
        <!-- È°∂ÈÉ®ÂØºËà™Ê†è -->
        <div class="header">
            <div class="header-left">
                <div class="logo">
                    <i class="fas fa-bolt"></i>
                    <span class="logo-text">RestFlow</span>
                </div>
            </div>
            <div class="header-right">
                <button id="newRequestBtn" class="btn-icon" title="Êñ∞Âª∫ËØ∑Ê±Ç">
                    <i class="fas fa-plus"></i>
                </button>
                <button id="importCurlBtn" class="btn-icon" title="ÂØºÂÖ•cURL">
                    <i class="fas fa-terminal"></i>
                </button>
                <div class="dropdown">
                    <button class="btn-icon dropdown-toggle" title="Êõ¥Â§öÊìç‰Ωú">
                        <i class="fas fa-ellipsis-v"></i>
                    </button>
                    <div class="dropdown-menu">
                        <button id="exportBtn" class="dropdown-item">
                            <i class="fas fa-download"></i> ÂØºÂá∫Êï∞ÊçÆ
                        </button>
                        <button id="importBtn" class="dropdown-item">
                            <i class="fas fa-upload"></i> ÂØºÂÖ•Êï∞ÊçÆ
                        </button>
                    </div>
                </div>
                <input type="file" id="importFile" accept=".json" style="display: none;">
            </div>
        </div>

        <!-- ÊêúÁ¥¢ÂíåËøáÊª§Ê†è -->
        <div class="filter-bar">
            <div class="search-container">
                <i class="fas fa-search search-icon"></i>
                <input type="text" id="searchInput" placeholder="ÊêúÁ¥¢Êé•Âè£..." class="search-input">
                <button class="search-clear-btn" id="searchClearBtn" style="display: none;">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="filters">
                <select id="methodFilter" class="filter-select">
                    <option value="">ÊâÄÊúâÊñπÊ≥ï</option>
                    <option value="GET">üü¢ GET</option>
                    <option value="POST">üü° POST</option>
                    <option value="PUT">üîµ PUT</option>
                    <option value="DELETE">üî¥ DELETE</option>
                    <option value="PATCH">üü£ PATCH</option>
                    <option value="HEAD">‚ö´ HEAD</option>
                    <option value="OPTIONS">üü† OPTIONS</option>
                </select>
                <select id="statusFilter" class="filter-select">
                    <option value="">ÊâÄÊúâÁä∂ÊÄÅ</option>
                    <option value="1xx">‚ÑπÔ∏è 1xx ‰ø°ÊÅØÂìçÂ∫î</option>
                    <option value="2xx">‚úÖ 2xx ÊàêÂäüÂìçÂ∫î</option>
                    <option value="3xx">‚Ü™Ô∏è 3xx ÈáçÂÆöÂêë</option>
                    <option value="4xx">‚ö†Ô∏è 4xx ÂÆ¢Êà∑Á´ØÈîôËØØ</option>
                    <option value="5xx">‚ùå 5xx ÊúçÂä°Âô®ÈîôËØØ</option>
                    <option value="pending">‚è≥ ÂæÖÂìçÂ∫î</option>
                </select>
                <select id="typeFilter" class="filter-select">
                    <option value="">ÊâÄÊúâÁ±ªÂûã</option>
                    <option value="captured">üîç Ëá™Âä®ÊçïËé∑</option>
                    <option value="replayed">üîÑ ÈáçÊîæËØ∑Ê±Ç</option>
                    <option value="custom">‚úèÔ∏è Ëá™ÂÆö‰πâËØ∑Ê±Ç</option>
                    <option value="imported">üìã ÂØºÂÖ•ËØ∑Ê±Ç</option>
                </select>
            </div>
        </div>

        <!-- ‰∏ªË¶ÅÂÜÖÂÆπÂå∫Âüü -->
        <div class="main-content">
            <!-- ËØ∑Ê±ÇÂàóË°® -->
            <div class="requests-panel">
                <div class="panel-header">
                    <div class="panel-title">
                        <i class="fas fa-list"></i>
                        <span>ËØ∑Ê±ÇÂàóË°® (<span id="requestCount">0</span>)</span>
                    </div>
                    <div class="panel-actions">
                        <button id="clearListBtn" class="btn-icon" title="Ê∏ÖÁ©∫ËØ∑Ê±ÇÂàóË°®">
                            <i class="fas fa-broom"></i>
                        </button>
                        <button id="refreshBtn" class="btn-icon" title="ÈáçÊñ∞Âä†ËΩΩÈ°µÈù¢">
                            <i class="fas fa-sync-alt"></i>
                        </button>
                    </div>
                </div>
                <div class="requests-list" id="requestsList">
                    <div class="empty-state">
                        <div class="empty-icon">
                            <i class="fas fa-satellite-dish"></i>
                        </div>
                        <p>ÊöÇÊó†ÊçïËé∑ÁöÑËØ∑Ê±Ç</p>
                        <p class="empty-hint">ÊµèËßàÁΩëÈ°µÊó∂ÔºåAPIËØ∑Ê±Ç‰ºöËá™Âä®ÊòæÁ§∫Âú®ËøôÈáå</p>
                    </div>
                </div>
            </div>

            <!-- ËØ∑Ê±ÇËØ¶ÊÉÖ/ÁºñËæëÂô® -->
            <div class="details-panel">
                <div class="panel-header">
                    <div class="panel-title">
                        <i class="fas fa-info-circle"></i>
                        <span id="detailsTitle">ËØ∑Ê±ÇËØ¶ÊÉÖ</span>
                    </div>
                    <div class="detail-actions">
                        <button id="duplicateBtn" class="btn-icon" title="Â§çÂà∂ËØ∑Ê±Ç" disabled>
                            <i class="fas fa-clone"></i>
                        </button>
                        <button id="replayBtn" class="btn-icon" title="ÈáçÊñ∞ÂèëÈÄÅ" disabled>
                            <i class="fas fa-play"></i>
                        </button>
                        <button id="editBtn" class="btn-icon" title="ÁºñËæëËØ∑Ê±Ç" disabled>
                            <i class="fas fa-edit"></i>
                        </button>
                    </div>
                </div>
                <div class="details-content" id="detailsContent">
                    <div class="empty-state">
                        <div class="empty-icon">
                            <i class="fas fa-mouse-pointer"></i>
                        </div>
                        <p>ÈÄâÊã©‰∏Ä‰∏™ËØ∑Ê±ÇÊü•ÁúãËØ¶ÊÉÖ</p>
                        <p class="empty-hint">ÊàñËÄÖÁÇπÂáª"Êñ∞Âª∫"ÂàõÂª∫Ëá™ÂÆö‰πâËØ∑Ê±Ç</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- ÁºñËæë/Êñ∞Âª∫ËØ∑Ê±ÇÊ®°ÊÄÅÊ°Ü -->
        <div id="editModal" class="modal">
            <div class="modal-content modal-large">
                <div class="modal-header">
                    <div class="modal-title">
                        <i class="fas fa-edit"></i>
                        <span id="modalTitle">ÁºñËæëËØ∑Ê±Ç</span>
                    </div>
                    <button class="modal-close" id="closeModal">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <!-- ËØ∑Ê±ÇÂü∫Êú¨‰ø°ÊÅØ -->
                    <div class="request-line">
                        <select id="editMethod" class="method-select">
                            <option value="GET">üü¢ GET</option>
                            <option value="POST">üü° POST</option>
                            <option value="PUT">üîµ PUT</option>
                            <option value="DELETE">üî¥ DELETE</option>
                            <option value="PATCH">üü£ PATCH</option>
                            <option value="HEAD">‚ö´ HEAD</option>
                            <option value="OPTIONS">üü† OPTIONS</option>
                        </select>
                        <input type="text" id="editUrl" class="url-input" placeholder="ËæìÂÖ•ËØ∑Ê±ÇURL...">
                        <button id="sendRequest" class="btn btn-primary">
                            <i class="fas fa-paper-plane"></i> ÂèëÈÄÅ
                        </button>
                    </div>

                    <!-- Ê†áÁ≠æÈ°µÂØºËà™ -->
                    <div class="tabs">
                        <button class="tab-btn active" data-tab="params">
                            <i class="fas fa-list-ul"></i> ÂèÇÊï∞
                        </button>
                        <button class="tab-btn" data-tab="headers">
                            <i class="fas fa-tags"></i> ËØ∑Ê±ÇÂ§¥
                        </button>
                        <button class="tab-btn" data-tab="body">
                            <i class="fas fa-file-alt"></i> ËØ∑Ê±Ç‰Ωì
                        </button>
                        <button class="tab-btn" data-tab="auth">
                            <i class="fas fa-key"></i> ËÆ§ËØÅ
                        </button>
                    </div>

                    <!-- ÂèÇÊï∞Ê†áÁ≠æÈ°µ -->
                    <div class="tab-content" id="paramsTab">
                        <div class="params-container">
                            <div class="params-header">
                                <span>Query Parameters</span>
                                <button class="btn-small" id="addParamBtn">
                                    <i class="fas fa-plus"></i> Ê∑ªÂä†
                                </button>
                            </div>
                            <div class="params-list" id="paramsList">
                                <!-- Âä®ÊÄÅÁîüÊàêÂèÇÊï∞Ë°å -->
                            </div>
                        </div>
                    </div>

                    <!-- ËØ∑Ê±ÇÂ§¥Ê†áÁ≠æÈ°µ -->
                    <div class="tab-content" id="headersTab" style="display: none;">
                        <div class="input-mode-toggle">
                            <button class="toggle-btn active" data-mode="form">
                                <i class="fas fa-list"></i> Ë°®Âçï
                            </button>
                            <button class="toggle-btn" data-mode="raw">
                                <i class="fas fa-code"></i> Raw
                            </button>
                        </div>
                        <div class="headers-form-mode">
                            <div class="headers-header">
                                <span>Headers</span>
                                <div class="header-actions">
                                    <button class="btn-icon-small" id="copyHeadersBtn" title="Â§çÂà∂ËØ∑Ê±ÇÂ§¥">
                                        <i class="fas fa-copy"></i>
                                    </button>
                                    <button class="btn-small" id="addHeaderBtn">
                                        <i class="fas fa-plus"></i> Ê∑ªÂä†
                                    </button>
                                </div>
                            </div>
                            <div class="headers-list" id="headersList">
                                <!-- Âä®ÊÄÅÁîüÊàêËØ∑Ê±ÇÂ§¥Ë°å -->
                            </div>
                        </div>
                        <div class="headers-raw-mode" style="display: none;">
                            <textarea id="editHeadersRaw" class="code-editor headers-raw-input" rows="8" placeholder='{"Content-Type": "application/json"}'></textarea>
                        </div>
                    </div>

                    <!-- ËØ∑Ê±Ç‰ΩìÊ†áÁ≠æÈ°µ -->
                    <div class="tab-content" id="bodyTab" style="display: none;">
                        <div class="body-type-selector">
                            <label>
                                <i class="fas fa-file-alt"></i>
                                ËØ∑Ê±Ç‰ΩìÁ±ªÂûã
                            </label>
                            <div style="display: flex; align-items: center; gap: 12px;">
                                <select id="bodyType" class="form-control">
                                    <option value="none">üö´ Êó†ËØ∑Ê±Ç‰Ωì</option>
                                    <option value="json">üìÑ JSON</option>
                                    <option value="form">üìù Ë°®ÂçïÊï∞ÊçÆ</option>
                                    <option value="raw">üìã ÂéüÂßãÊï∞ÊçÆ</option>
                                    <option value="binary">üíæ ‰∫åËøõÂà∂</option>
                                </select>
                                <span class="body-type-indicator" id="bodyTypeIndicator">
                                    <i class="fas fa-ban"></i>
                                    NONE
                                </span>
                            </div>
                        </div>
                        <div class="body-content">
                            <div class="body-json" id="bodyJson">
                                <div class="json-toolbar">
                                    <div class="toolbar-left">
                                        <button class="btn-small" id="formatJsonBtn">
                                            <i class="fas fa-magic"></i> Ê†ºÂºèÂåñ
                                        </button>
                                        <button class="btn-small" id="minifyJsonBtn">
                                            <i class="fas fa-compress"></i> ÂéãÁº©
                                        </button>
                                    </div>
                                    <button class="btn-icon-small" id="copyBodyBtn" title="Â§çÂà∂ËØ∑Ê±Ç‰Ωì">
                                        <i class="fas fa-copy"></i>
                                    </button>
                                </div>
                                <textarea id="editBodyJson" class="code-editor" placeholder='{"key": "value"}'></textarea>
                            </div>
                            <div class="body-form" id="bodyForm" style="display: none;">
                                <div class="form-header">
                                    <span>Form Data</span>
                                    <button class="btn-small" id="addFormFieldBtn">
                                        <i class="fas fa-plus"></i> Ê∑ªÂä†
                                    </button>
                                </div>
                                <div class="form-fields" id="formFieldsList">
                                    <!-- Âä®ÊÄÅÁîüÊàêË°®ÂçïÂ≠óÊÆµ -->
                                </div>
                            </div>
                            <div class="body-raw" id="bodyRaw" style="display: none;">
                                <textarea id="editBodyRaw" class="code-editor" placeholder="ËæìÂÖ•ÂéüÂßãÊï∞ÊçÆ..."></textarea>
                            </div>
                        </div>
                    </div>

                    <!-- ËÆ§ËØÅÊ†áÁ≠æÈ°µ -->
                    <div class="tab-content" id="authTab" style="display: none;">
                        <div class="auth-type-selector">
                            <select id="authType" class="form-control">
                                <option value="none">üõ°Ô∏è Êó†ËÆ§ËØÅ</option>
                                <option value="bearer">üîë Bearer Token</option>
                                <option value="basic">üë§ Basic Auth</option>
                                <option value="api-key">üè∑Ô∏è API Key</option>
                                <option value="oauth2">üîê OAuth 2.0</option>
                                <option value="digest">üîí Digest Auth</option>
                                <option value="hawk">ü¶Ö Hawk Auth</option>
                            </select>
                        </div>
                        <div class="auth-content" id="authContent">
                            <!-- Ê†πÊçÆËÆ§ËØÅÁ±ªÂûãÂä®ÊÄÅÊòæÁ§∫ -->
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button id="cancelEdit" class="btn btn-secondary">
                        <i class="fas fa-times"></i> ÂèñÊ∂à
                    </button>
                    <button id="saveRequest" class="btn btn-success">
                        <i class="fas fa-save"></i> ‰øùÂ≠ò
                    </button>
                </div>
            </div>
        </div>

        <!-- cURLÂØºÂÖ•Ê®°ÊÄÅÊ°Ü -->
        <div id="curlModal" class="modal">
            <div class="modal-content">
                <div class="modal-header">
                    <div class="modal-title">
                        <i class="fas fa-terminal"></i>
                        <span>ÂØºÂÖ• cURL</span>
                    </div>
                    <button class="modal-close" id="closeCurlModal">
                        <i class="fas fa-times"></i>
                    </button>
                </div>
                <div class="modal-body">
                    <div class="form-group">
                        <label>Á≤òË¥¥ cURL ÂëΩ‰ª§</label>
                        <textarea id="curlInput" class="code-editor curl-input" rows="15" placeholder="curl -X POST https://api.example.com/data -H 'Content-Type: application/json' -d '{\"key\": \"value\"}'"></textarea>
                    </div>
                    <div class="curl-help">
                        <i class="fas fa-info-circle"></i>
                        <span>ÊîØÊåÅ‰ªéÊµèËßàÂô®ÂºÄÂèëËÄÖÂ∑•ÂÖ∑„ÄÅPostmanÁ≠âÂ∑•ÂÖ∑Â§çÂà∂ÁöÑcURLÂëΩ‰ª§</span>
                    </div>
                </div>
                <div class="modal-footer">
                    <button id="cancelCurl" class="btn btn-secondary">
                        <i class="fas fa-times"></i> ÂèñÊ∂à
                    </button>
                    <button id="importCurl" class="btn btn-primary">
                        <i class="fas fa-download"></i> ÂØºÂÖ•
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- ‰ª£Á†ÅÁîüÊàêÂô®Ê®°ÊÄÅÊ°Ü -->
    <div id="codeGeneratorModal" class="modal">
        <div class="modal-content modal-large">
            <div class="modal-header">
                <div class="modal-title">
                    <i class="fas fa-code"></i>
                    <span>‰ª£Á†ÅÁîüÊàêÂô®</span>
                </div>
                <button class="modal-close" id="closeCodeModal">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="code-generator-toolbar">
                    <div class="language-selector">
                        <label>ÈÄâÊã©ËØ≠Ë®Ä:</label>
                        <select id="codeLanguage" class="form-control">
                            <option value="javascript">JavaScript (Fetch)</option>
                            <option value="curl">cURL</option>
                            <option value="python">Python (Requests)</option>
                            <option value="java">Java (OkHttp)</option>
                            <option value="csharp">C# (HttpClient)</option>
                            <option value="php">PHP (cURL)</option>
                            <option value="go">Go (net/http)</option>
                            <option value="ruby">Ruby (Net::HTTP)</option>
                        </select>
                    </div>
                    <div class="code-actions">
                        <button id="formatCode" class="btn-icon-small" title="Ê†ºÂºèÂåñ‰ª£Á†Å">
                            <i class="fas fa-magic"></i>
                        </button>
                        <button id="copyCode" class="btn-icon-small" title="Â§çÂà∂‰ª£Á†Å">
                            <i class="fas fa-copy"></i>
                        </button>
                        <button id="downloadCode" class="btn-icon-small" title="‰∏ãËΩΩ‰ª£Á†Å">
                            <i class="fas fa-download"></i>
                        </button>
                    </div>
                </div>
                <div class="code-preview">
                    <textarea id="generatedCode" class="code-editor code-display" readonly></textarea>
                </div>
            </div>
        </div>
    </div>

    <script src="scripts/panel.js"></script>
</body>
</html>
